<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.springframework.org/schema/beans
        http://www.springframework.org/schema/beans/spring-beans.xsd">
        
        <!-- HandlerMapping -->  
		<bean class="org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping"/>  
		<!-- HandlerAdapter -->  
		<bean class="org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter"/>
		<!-- ViewResolver -->  
		<bean class="org.springframework.web.servlet.view.InternalResourceViewResolver">  
		    <property name="viewClass" value="org.springframework.web.servlet.view.JstlView"/>  
		    <property name="prefix" value="/WEB-INF/jsp/"/>  
		    <property name="suffix" value=".jsp"/>  
		</bean>  
		<!-- 强制请求方法类型,在登陆、注册时使用
		<bean name="/hello" class="com.springMVC.controller.HelloWorldController">
			<property name="supportedMethods" value="POST"></property>
		</bean>
		 -->
		 <!-- 当前请求的session前置条件检查，如果当前请求无session将抛出HttpSessionRequiredException异常 
		 <bean name="/hello" class="com.springMVC.controller.HelloWorldController">
			<property name="requireSession" value="true"></property>
		</bean>
		-->
		<!-- 缓存15秒
		 <bean name="/hello" class="com.springMVC.controller.HelloWorldController">
			<property name="cacheSeconds" value="15"></property>
		</bean>
		 
		 <bean name="/forwardToServlet" class="com.springMVC.web.servlet.ForwardingServlet">
        	<property name="servletName" value="forwarding"></property>
        </bean>-->
        <bean name="/abstractCommand" 
        	class="com.springMVC.web.controller.MyAbstractCommandController">
        	<!-- 也可以通过依赖注入 注入命令实现类  
        	<property name="commandClass" value="com.springMVC.model.UserModel"/>--> 
        </bean>
        
        <bean name="/simpleForm" class="com.springMVC.web.controller.RegisterSimpleFormController">
        	<property name="formView" value="register"/>
        	<property name="successView" value="redirect:/success"></property>
        </bean>
        <bean name="success" class="com.springMVC.web.controller.SuccessController"/>
        
        
	    <bean name="/infoFillWizard"   
	    class="com.springMVC.web.controller.InfoFillWizardFormController">  
	        <property name="pages">  
	            <list>  
	                <value>wizard/baseInfo</value>  
	                <value>wizard/schoolInfo</value>  
	                <value>wizard/workInfo</value>  
	           </list>  
	        </property>  
	    </bean>      
        
        <bean id="userService" class="com.springMVC.service.UserService"/>
        <bean name="/user/**" class="com.springMVC.web.controller.UserController">
	       <property name="userService" ref="userService"/>
	       <property name="createView" value="user/create"/>
	       <property name="updateView" value="user/update"/>
	       <property name="deleteView" value="user/delete"/>
	       <property name="listView" value="user/list"/>
	       <property name="redirectToListView" value="redirect:/user/list"/>
	       <!-- 使用PropertiesMethodNameResolver来解析功能处理方法名 -->       
	       <!--property name="methodNameResolver" ref="propertiesMethodNameResolver"/-->
   		</bean>
   		
   		<bean name="/dataBind" class="com.springMVC.controller.DataBinderTestController"/>
        <bean name="/test" class="com.springMVC.web.interceptor.TestController"></bean>
        <bean id="handlerInterceptor1" class="com.springMVC.web.interceptor.HandlerInterceptor1"/>
        <bean id="handlerInterceptor2" class="com.springMVC.web.interceptor.HandlerInterceptor2"/>
        <bean class="org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping">  
		    <property name="interceptors">  
		        <list>  
		           <ref bean="handlerInterceptor1"/>  
		          <ref bean="handlerInterceptor2"/>  
		        </list>  
		    </property>  
		</bean> 
		
		<bean id="handlerInterceptor3" class="com.springMVC.web.interceptor.HandlerInterceptor3"/>
		<bean id="handlerInterceptor4" class="com.springMVC.web.interceptor.HandlerInterceptor4"/>
		<bean class="org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping">  
	    <property name="interceptors">  
	        <list>  
	           <ref bean="handlerInterceptor3"/>  
	          <ref bean="handlerInterceptor4"/>  
	        </list>  
	    </property>  
</bean>  
 </beans>
